{% extends "../common/inc/base.html" %}
{% block style %}
<link href="/static/account/css/index.css" rel="stylesheet" type="text/css"/>
{% endblock %}
{% block content %}
{# <section class="page-header page-header-xs ">
  <div class="container">
    <h1>{{category.title}}</h1>

    <!-- breadcrumbs -->
    <ol class="breadcrumb breadcrumb-inverse">
      <li><a href="/">首页</a></li>
      <li><a href="/account">{{controller.channel}}</a></li>
      <li class="active">{{controller.sub_channel}}</li>
    </ol>
    <!-- /breadcrumbs -->
  </div>
</section> #}

<section class="bg-white">
  <div class="container">
    <div class="row">
      <!-- LEFT -->
      {% include "./inc/user_left.html" %}
      <!-- RIGHT -->
      {% if isZh %}
      <div class="col-lg-10 col-md-10 col-sm-8">
        <h4 class="page-header margin-top-0"><i class="fa fa-reorder fa-lg text-default"></i>
          收货地址
          <button class="btn btn-primary btn-sm pull-right" data-toggle="modal" data-target=".add-addr-dialog">添加新地址
          </button>
        </h4>
        <div class="table-responsive">
          <table class="table table-bordered table-striped table-vertical-middle">
            <thead>
            <tr>
              <th>收货人</th>
              <th>所在地区</th>
              <th>街道地址</th>
              <th>邮编</th>
              <th>手机</th>
              <th></th>
              <th>操作</th>
            </tr>
            </thead>
            <tbody>
            {%for item in list.data %}
            <tr>
              <td>{{item.accept_name}}</td>
              <td>{{item.province}},{{item.city}},{{item.county}}</td>
              <td>{{item.addr}}</td>
              <td>
                {{item.zip}}
              </td>
              <td>
                {{item.mobile}}
              </td>
              <td>
                {%if item.is_default == 1%}
                <span class="label label-primary">默认地址 </span>
                {%else%}
                <a class="btn btn-default btn-xs ajax-get" href="/account/address/addrisdefault/?id={{item.id}}">
                  <i class="fa fa-check white"></i>设为默认地址
                </a>
                {%endif%}
              </td>
              <td>
                <a class="btn btn-default btn-xs" data-toggle="ajaxModal" href="/account/address/editaddrmodal/?id={{item.id}}&type=1">
                  <i class="fa fa-edit white"></i>编辑
                </a>
                <a class="btn btn-default btn-xs confirm ajax-get" href="/account/address/deladdr/?id={{item.id}}">
                  <i class="fa fa-times white"></i>删除
                </a>
              </td>
            </tr>
            {%endfor%}

            </tbody>
          </table>
        </div>
        <!-- PAGINATION -->
        <div class="text-right">
          <!-- Pagination Default -->
          {{pagination | safe}}
          <!-- /Pagination Default -->
        </div>
        <!-- /PAGINATION -->
      </div>
      {% else %}
      <div class="col-lg-10 col-md-10 col-sm-8">
        <h4 class="page-header margin-top-0"><i class="fa fa-reorder fa-lg text-default"></i>
          ADDRESS LIST
          <button class="btn btn-primary btn-sm pull-right" data-toggle="modal" data-target=".add-addr-dialog">ADD NEW
          </button>
        </h4>
        <div class="table-responsive">
          <table class="table table-bordered table-striped table-vertical-middle">
            <thead>
            <tr>
              <th>Recipient</th>
              <th>Area</th>
              <th>Street</th>
              <th>Zip Code</th>
              <th>Phone NO</th>
              <th>Default</th>
              <th>Operation</th>
            </tr>
            </thead>
            <tbody>
            {%for item in list.data %}
            <tr>
              <td>{{item.accept_name}}</td>
              <td>{{item.province}},{{item.city}},{{item.county}}</td>
              <td>{{item.addr}}</td>
              <td>
                {{item.zip}}
              </td>
              <td>
                {{item.mobile}}
              </td>
              <td>
                {%if item.is_default == 1%}
                <span class="label label-primary">Default address </span>
                {%else%}
                <a class="btn btn-default btn-xs ajax-get" href="/account/address/addrisdefault/?id={{item.id}}">
                  <i class="fa fa-check white"></i>Set as default
                </a>
                {%endif%}
              </td>
              <td>
                <a class="btn btn-default btn-xs" data-toggle="ajaxModal" href="/account/address/editaddrmodal/?id={{item.id}}&type=1">
                  <i class="fa fa-edit white"></i>Edit
                </a>
                <a class="btn btn-default btn-xs confirm ajax-get" href="/account/address/deladdr/?id={{item.id}}">
                  <i class="fa fa-times white"></i>Remove
                </a>
              </td>
            </tr>
            {%endfor%}

            </tbody>
          </table>
        </div>
        <!-- PAGINATION -->
        <div class="text-right">
          <!-- Pagination Default -->
          {{pagination | safe}}
          <!-- /Pagination Default -->
        </div>
        <!-- /PAGINATION -->
      </div>
      {% endif %}
    </div>
  </div>
</section>

<div class="modal fade add-addr-dialog" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-lg">
    {% if isZh %}
    <div class="modal-content">

      <!-- header modal -->
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
            aria-hidden="true">&times;</span></button>
        <h4 class="modal-title " id="myLargeModalLabel">新增收货人信息</h4>
      </div>

      <!-- body modal -->
      <div class="modal-body">
        <form method="post" class="add-addr">
          <fieldset>
            <!-- required [php action request] -->
            <div class="row">
              <div class="form-group" id="areas">
                <div class="col-md-3 col-sm-12">
                  <label>所在地区（省份/直辖市） *</label>
                  <select class="form-control pointer " id="province" name="province" required>
                    <option value="">--- 省份/直辖市 ---</option>

                  </select>
                </div>
                <div class="col-md-3 col-sm-12">
                  <label>（市） *</label>
                  <select class="form-control pointer " id="city" name="city" required>
                    <option value="">--- 市 ---</option>

                  </select>
                </div>
                <div class="col-md-3 col-sm-12">
                  <label>（县/区） *</label>
                  <select class="form-control pointer " id="county" name="county" required>
                    <option value="">--- 县/区 ---</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="form-group">
                <div class="col-md-12 col-sm-12">
                  <label>街道地址 *</label>
                  <textarea class="form-control required" name="addr" required></textarea>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="form-group">
                <div class="col-md-6 col-sm-6">
                  <label>邮政编码 *</label>
                  <input type="text" maxlength="6" class="form-control required" value="" name="zip" required>
                </div>
                <div class="col-md-6 col-sm-6">
                  <label>手机号码 *</label>
                  <input type="text" class="form-control required" value="" name="mobile" required>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="form-group">
                <div class="col-md-6 col-sm-6">
                  <label>收货人姓名 *</label>
                  <input type="text" class="form-control required" value="" name="accept_name" required>
                </div>
                <div class="col-md-6 col-sm-6">
                  <label>邮箱 </label>
                  <input type="text" class="form-control " value="" name="email">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="form-group">
                <div class="col-md-12 col-sm-12">
                  <label>
                    设为默认地址

                  </label>
                  <!-- checkbox -->
                  <label class="checkbox">
                    <input type="checkbox" value="1" name="is_default">
                    <i></i> 设置为默认收货地址
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <div class="row">
            <div class="col-md-12">
              <input type="hidden" name="type" value="1">
              <button class="btn btn-3d btn-teal btn-lg btn-block margin-top-30" type="submit">
                保存收货人地址
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    {% else %}
    <div class="modal-content">

      <!-- header modal -->
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
            aria-hidden="true">&times;</span></button>
        <h4 class="modal-title " id="myLargeModalLabel">Add new recipient</h4>
      </div>

      <!-- body modal -->
      <div class="modal-body">
        <form method="post" class="add-addr">
          <fieldset>
            <!-- required [php action request] -->
            <div class="row">
              <div class="form-group" id="areas">
                <div class="col-md-3 col-sm-12">
                  <label>Area（Province/Municipality） *</label>
                  <select class="form-control pointer " id="province" name="province" required>
                    <option value="">--- Province/Municipality ---</option>

                  </select>
                </div>
                <div class="col-md-3 col-sm-12">
                  <label>（City） *</label>
                  <select class="form-control pointer " id="city" name="city" required>
                    <option value="">--- City ---</option>

                  </select>
                </div>
                <div class="col-md-3 col-sm-12">
                  <label>（County/District） *</label>
                  <select class="form-control pointer " id="county" name="county" required>
                    <option value="">--- County/District ---</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="form-group">
                <div class="col-md-12 col-sm-12">
                  <label>Street *</label>
                  <textarea class="form-control required" name="addr" required></textarea>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="form-group">
                <div class="col-md-6 col-sm-6">
                  <label>Zip Code *</label>
                  <input type="text" maxlength="6" class="form-control required" value="" name="zip" required>
                </div>
                <div class="col-md-6 col-sm-6">
                  <label>Phone *</label>
                  <input type="text" class="form-control required" value="" name="mobile" required>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="form-group">
                <div class="col-md-6 col-sm-6">
                  <label>Name *</label>
                  <input type="text" class="form-control required" value="" name="accept_name" required>
                </div>
                <div class="col-md-6 col-sm-6">
                  <label>EMAIL </label>
                  <input type="text" class="form-control " value="" name="email">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="form-group">
                <div class="col-md-12 col-sm-12">
                  <label>
                    Set as default

                  </label>
                  <!-- checkbox -->
                  <label class="checkbox">
                    <input type="checkbox" value="1" name="is_default">
                    <i></i> Default Address
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <div class="row">
            <div class="col-md-12">
              <input type="hidden" name="type" value="1">
              <button class="btn btn-3d btn-teal btn-lg btn-block margin-top-30" type="submit">
                Submit
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
{% block script %}
<script src="/static/account/js/address.js"></script>
{% endblock %}